{% extends is_granted("ROLE_MEDECIN")
    ? 'base.html.twig'
    : 'base2.html.twig'
%}

{#{% extends 'base.html.twig' %}#}
{#    {% extends 'base.html.twig' %}#}
{#{% else %}#}
{#    {% extends 'base2.html.twig' %}#}
{#{% endif %}#}

{% block title %}Liste Rendez-Vous {% endblock %}

{% block body %}

    {{dump( is_granted("ROLE_MEDECIN")) }}
    <h1>RendezVous index</h1>

    <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Date</th>
                <th>CreatedAt</th>
                <!--<th>UpdatedAt</th>
                <th>DeletedAt</th>
                <th>IsDeleted</th>-->
                <td>patient</td>
{#                <th>actions</th>#}
            </tr>
        </thead>
        <tbody>
        {% for rendez_vou in rendez_vouses %}
            <tr>
              <td>{#{{ rendez_vou.id }}#}</td>
                <td>{{ rendez_vou.date ? rendez_vou.date|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ rendez_vou.createdAt ? rendez_vou.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                <!--<td>{#{{ rendez_vou.updatedAt ? rendez_vou.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ rendez_vou.deletedAt ? rendez_vou.deletedAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ rendez_vou.isDeleted ? 'Yes' : 'No' }}#}</td>-->
                <td><a href="{{ path('patient_show', {'id': rendez_vou.fiche.patient.id }) }}">
                        {{ rendez_vou.fiche.patient.nom }} {{ rendez_vou.fiche.patient.prenom }}</a></td>
{#                <td>#}
{#                    <a href="{{ path('rendez_vous_show', {'id': rendez_vou.id}) }}">show</a>#}
{#                    <a href="{{ path('rendez_vous_edit', {'id': rendez_vou.id}) }}">edit</a>#}
{#                </td>#}
            </tr>
        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a class="btn btn-primary mr-2" href="{{ path('rendez_vous_new', {'idPatient': idPatient}) }}">Ajouter</a>
{% endblock %}
